# 目录配置

## 目录配置标准

Linux采用将文件储存在单个目录结构中,这种目录被称为虚拟目录(Virtual Directory).虚拟目录将安装在主机上的所有储存设备的文件路径纳入单个目录结构中.

各种发行版遵循同一套文件系统层次结构标准(FHS, Filesystem Hierarchy Standard),目的在于规范每个特定目录应该放什么数据.FHS依据文件系统使用的频繁与否,与是否允许使用者随意变更,而将目录定义为四种交互形态:

- **可分享的**(Shareable)

  可以分享给其他系统挂载使用的目录,包括可执行文件与使用者的邮件等数据.

- **不可分享的**(Unshareable)

  自己机器上面运行的设备文件或者是与程序有关的socket文件等,仅能自己使用所以不适合分享.

- **不变的**(Static)

  有些数据是不会经常变动,例如函数库,文件说明文档,系统管理员所管理的主机服务配置文件等.

- **可变动的**(Variable)

  经常改变的数据,例如日志文件等.

  

## 顶级目录

所有目录都由根目录/衍生而来,所以FHS标准建议根目录所在分区应该越小越好,应用程序所安装的软件最好不要与根目录放在同一个分区.这样不但性能较好,根目录所在的文件系统也较不容易发生问题.

开机过程中仅有根目录会被挂载,其他分区则是在开机完成后才陆续进行挂载.

必须存在的顶级目录:

| **目录**    | **目录说明**                                                 |
| ----------- | ------------------------------------------------------------ |
| /bin        | 二进制目录,放置可以被root和一般账户所用的命令,在单用户维护模式下还能被操作的常用命令.如cat,mv,chown等 |
| /boot       | 启动目录,放置开机会使用到的文件,包括内核文件及开机所需配置文件. |
| /dev        | 设备目录,Linux上任何设备与接口设备都是以文件的形式存在于这个目录下,访问目录下的某个文件就等于访问某个设备.主要分为三类硬件例如硬盘(sda)和打印机(lp0),终端如控制台(tty),伪设备如/dev/null和/dev/zero. |
| /etc        | 系统配置文件目录,系统配置文件几乎都放这,如账号密码,服务起始文件等.一般不要放可执行文件到这个目录下.     <br />~~/etc/init.d:放置所有服务的默认启动脚本~~  <br />~~/etc/xinetd.d:所谓的super daemon管理的各项服务的配置文件目录~~  <br />/etc/X11:与X Window有关的配置文件放这,尤其是xorg.conf这个XServer的配置文件  <br />~~/etc/skel:包含用户缺省配置文件,当新建用户时,这个目录的内容复制到用户主目录下~~<br />/etc/opt:放置第三方软件配置文件<br />/etc/sgml:与SGML格式有关的各项配置文件  <br />/etc/xml:与XML格式有关的配置文件  <br />~~/etc/rc.d:包含系统启动脚本,这些脚本由/etc/inittab调用~~  <br />~~/etc/sysconfig:包含系统配置文件~~ |
| ~~/home~~   | ~~主目录,系统默认用户主文件夹,一般子文件夹以用户账号命名~~   |
| /lib,/lib64 | 库目录,放置开机时会用到的函数库,以及在/bin或/sbin中命令会调用的函数库<br />/lib/modules/:放置内核相关的模块(驱动程序) |
| /media      | 媒体目录,放置可删除设备,包括CD,DVD,U盘等设备都暂时挂载于此.  |
| /mnt        | 挂载目录,如果想要暂时挂载某些额外的设备,一般放置到这个目录中. |
| /opt        | 可选目录,给第三方软件放置的目录,包括发行版附加的一些软件包.  |
| ~~/root~~   | ~~系统管理员的主文件夹~~                                     |
| /sbin       | 系统二进制目录,只有root可用开机过程中所需要的,包括开机,修复,还原系统所需要的系统命令,如fdisk,ifconfig,init等. |
| /srv        | 服务目录,一些网络服务启动后,这些服务所需要取用的数据目录.如放置www服务需要的网页文件到/srv/www里. |
| /tmp        | 临时目录,重要数据不可放置到此目录,会被一些系统进程定期清空.  |
| /run        | 运行目录,存放系统运作时的运行时数据.                         |

其他重要目录:

| **目录**    | **目录说明**                                                 |
| ----------- | ------------------------------------------------------------ |
| /lost+found | 只有ext文件系统格式才会产生的目录,用来放置丢失的文件片段.    |
| /proc       | 进程目录,这个目录本身是一个虚拟文件系统(Virtual  Filesystem),它放置的数据都在内存中,如系统内核,进程,外部设备的状态及网络状态等,所以实际不占任何硬盘空间. |
| /sys        | 系统目录,和/proc类似的虚拟文件系统,记录与内核相关信息,包括目前已加载的内核模块与硬件设备信息. |



## /usr目录

/usr目录存放静态数据,意即不会随时间改变的文件,原则上放置独立安装的软件数据.系统默认软件也放在/usr下面.

/usr下子目录说明:

| **目录**      | **目录说明**                                                 |
| ------------- | ------------------------------------------------------------ |
| /usr/bin/     | 全部的用户命令放这里.                                        |
| /usr/include/ | C/C++等编程语言的头文件(header)与包含文件(include)放置处.    |
| /usr/lib/     | 包含各种应用软件的函数库,目标文件,以及不被一般用户惯用的执行文件或脚本. |
| /usr/local/   | 系统管理员自行下载安装的软件推荐存放目录.                    |
| /usr/sbin/    | 非正常运行所需的系统命令,例如网络服务器软件的服务命令.       |
| /usr/share/   | 放置共享文件的地方,比如man的手册,doc帮助文档.                |
| /usr/src/     | 一般源码建议放置目录.内核源码建议放置/usr/src/linux/下.      |
| /usr/libexec  | 某些不被一般使用者惯用的可执行文件或脚本.                    |



## /var目录

/var目录主要存放会经常变动的文件,包括缓存(cache),日志文件(log file)及某些软件运行时产生的文件(lock file,run file)或My SQL数据库的文件等.

最好可以将其独立出来挂在单独一个分区.

/var下子目录说明:

| **目录**    | **目录说明**                                                 |
| ----------- | ------------------------------------------------------------ |
| /var/cache/ | 应用程序本身运行过程中会产生的一些暂存文件.                  |
| /var/lib/   | 程序本身执行的过程中,需要使用到的数据文件放置目录.在此目录下各自的软件应该要有自己的目录,例MySQL数据库放置到/var/lib/mysql/下. |
| /var/lock/  | 某些设备或文件资源一次只能被一个应用程序所使用,为了避免使用冲突就得给该设备上锁.例如刻录机设备在刻录中时会被锁上.目前此目录已被挪到/run/lock中. |
| /var/log/   | 日志文件放置的目录,例如记录登录者信息的文件/var/log/messages,/var/log/wtmp. |
| /var/mail/  | 放置个人电子邮件信箱的目录,等同于/var/spool/mail/.           |
| /var/run/   | 某些程序或服务启动后,会将它们的PID放置在这个目录下.          |
| /var/spool/ | 放置一些队列数据,通常在使用后会被删除.                       |

